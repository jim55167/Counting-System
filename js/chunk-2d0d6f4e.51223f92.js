(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6f4e"],{7582:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"side-body"},[e("div",{staticClass:"container d-flex"},[e("div",{staticClass:"row left"},[e("div",{staticClass:"side-bar d-flex"},[e("div",{staticClass:"time"},[e("p",[t._v("更新時間："),e("span",{staticClass:"change-time"},[t._v(t._s(this.changeTime))])])]),e("h1",[t._v("預設"),e("span",{staticClass:"second"},[t._v(t._s(t.countdownTime))]),t._v("秒更新")]),e("div",{staticClass:"container d-flex hardly"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.countdownTime,expression:"countdownTime"}],attrs:{type:"number",min:"1",max:"60",placeholder:"最多60s",name:"second",required:"",oninput:"validity.valid||(value='')",disabled:t.isDisabled},domProps:{value:t.countdownTime},on:{input:function(s){s.target.composing||(t.countdownTime=s.target.value)}}}),e("span",[t._v("秒")]),e("input",{staticClass:"page-link",class:{disabled:t.btnDisabled},attrs:{type:"button",value:"Start"},on:{click:function(s){return t.clickTimer(t.countdownTime)}}}),e("input",{staticClass:"page-link",class:{disabled:!t.btnDisabled},attrs:{type:"button",value:"Stop"},on:{click:function(s){return t.clearTimer2()}}})]),e("div",{staticClass:"statistics"},[e("div",{staticClass:"voting-stations"},[e("p",[t._v("完成報票投開票所數："),e("span",[t._v(t._s(t.stats.done))])]),e("p",[t._v("該頁面投開票所數："),e("span",[t._v(t._s(t.stats.totalTicket))])])]),e("div",{staticClass:"login-person"},[e("p",[t._v("未登入人數："),e("span",[t._v(t._s(t.stats.notLogin))])]),e("p",[t._v("該頁面人數："),e("span",[t._v(t._s(t.stats.totalPerson))])])])])])]),e("div",{staticClass:"container right"},[e("div",{staticClass:"card-header"},[e("ul",{staticClass:"nav nav-tabs card-header-tabs"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"pageOne"==t.visibility},attrs:{to:"/FtvSystem"},on:{click:function(s){t.visibility="pageOne"}}},[t._v("外場一")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"pageTwo"==t.visibility},attrs:{to:"/FtvSystemPage"},on:{click:function(s){t.visibility="pageTwo"}}},[t._v("外場二")])],1)])]),e("table",[e("thead",[e("tr",{staticClass:"title"},[e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("AreaName")}}},[t._v("地區 "),"AreaName"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("SpotNo")}}},[t._v("投開票所 "),"SpotNo"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("Name")}}},[t._v("姓名 "),"Name"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("Phone")}}},[t._v("手機 "),"Phone"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("LoginDate")}}},[t._v("報到/登入 "),"LoginDate"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("AgreeTickets")}}},[t._v("同意 "),"AgreeTickets"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("RejectTickets")}}},[t._v("不同意 "),"RejectTickets"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("InvalidTickets")}}},[t._v("無效票 "),"InvalidTickets"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("UpdateDate")}}},[t._v("輸入時間 "),"UpdateDate"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()]),e("th",{staticClass:"click btn-color",on:{click:function(s){return t.starSort("Done")}}},[t._v("結束 "),"Done"===t.sortName?e("span",{staticClass:"icon",class:{inverse:t.isReverse}},[e("i",{staticClass:" fas fa-angle-up text-success"})]):t._e()])]),t._l(t.sortData,(function(s,a){return e("tr",{key:a,staticClass:"material",class:{active:t.currentIndex===s.SpotNo},on:{click:function(e){return t.liclick(s.SpotNo)}}},[e("td",[t._v(t._s(s.AreaName))]),e("td",[t._v(t._s(s.SpotNo))]),e("td",[t._v(t._s(s.Name))]),e("td",[t._v(t._s(s.Phone))]),e("td",[t._v(t._s(s.LoginDate?t.moment(s.LoginDate).format("HH:mm:ss"):null))]),e("td",[t._v(t._s(s.AgreeTickets))]),e("td",[t._v(t._s(s.RejectTickets))]),e("td",[t._v(t._s(s.InvalidTickets))]),e("td",[t._v(t._s(s.UpdateDate?t.moment(s.UpdateDate).format("HH:mm:ss"):null))]),e("td",[t._v(t._s(s.Done))])])}))],2)])])])])},i=[],n=(e("a9e3"),e("ac1f"),e("5319"),e("159b"),e("a630"),e("3ca3"),e("d3b7"),e("6062"),e("ddb0"),e("d81d"),e("4de4"),e("4e82"),e("fb6a"),e("c1df")),c=e.n(n);c()().format();var o={data:function(){return{timerTime:8,newPageData:[],isDisabled:!1,sortName:"",isReverse:!1,currentTime:"",changeTime:"",timerIsRunning:!1,pause:"",timer:"",countdownTime:8,visibility:"pageTwo",currentIndex:String,stats:{notLogin:Number,totalPerson:Number,totalTicket:Number,done:Number}}},methods:{moment:c.a,getData:function(){var t=this,s="https://melect.ftv.com.tw/ElectApi/ElectForMonitor/GetMonitorTicket2";this.axios.get(s).then((function(s){if(200===s.status||!0===s.data.IsSuccess){var e=s.data.ResponseTime,a=e.substring(11,19).replace(/\:/g,"：");t.changeTime=a;var i=s.data.Data;i.forEach((function(t){if(1!=t.Done?t.Done="":t.Done="Y",null!=t.LoginDate){var s=c()(t.LoginDate).valueOf();t.LoginDate=s}if(null!=t.UpdateDate){var e=c()(t.UpdateDate).valueOf();t.UpdateDate=e}})),t.newPageData=i,t.getVotes(t.newPageData)}})).catch((function(t){console.log(t)}))},getVotes:function(t){var s=Array.from(new Set(t.map((function(t){return t.Name}))));this.stats.totalPerson=s.length;var e=new Set,a=t.filter((function(t){return!e.has(t.Name)&&e.add(t.Name)})),i=a.filter((function(t){return null===t.LoginDate}));this.stats.notLogin=i.length;var n=Array.from(new Set(t.map((function(t){return t.SpotNo}))));this.stats.totalTicket=n.length;var c=new Set,o=t.filter((function(t){return!c.has(t.SpotNo)&&c.add(t.SpotNo)})),r=o.filter((function(t){return"Y"===t.Done}));this.stats.done=r.length},time:function(){var t=new Date,s=(t.getHours()<10?"0":"")+t.getHours(),e=(t.getMinutes()<10?"0":"")+t.getMinutes(),a=(t.getSeconds()<10?"0":"")+t.getSeconds(),i=s+"："+e+"："+a;return i},clearTimer2:function(){clearInterval(this.exitTime),this.countdownTime=0,this.isDisabled=!this.isDisabled},clickTimer:function(t){this.exitTime=setInterval(this.getData,1e3*t),this.isDisabled=!this.isDisabled},starSort:function(t){this.isReverse=!this.isReverse,this.sortName=t},liclick:function(t){this.currentIndex=t}},computed:{sortData:function(){var t=this,s=this.newPageData.slice().sort((function(s,e){return s[t.sortName]<e[t.sortName]?t.isReverse?-1:1:s[t.sortName]>e[t.sortName]?t.isReverse?1:-1:0}));return s},btnDisabled:function(){return!!this.isDisabled}},created:function(){this.getData(),this.clickTimer(this.timerTime)}},r=o,l=e("2877"),u=Object(l["a"])(r,a,i,!1,null,null,null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d6f4e.51223f92.js.map